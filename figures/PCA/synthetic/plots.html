<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Consistent PCA on Synthetic Datasets</title>
  <style>
    body { padding: 16px; font-family: Arial, sans-serif; }
    .table { border-collapse: collapse; width: 100%; }
    .table th, .table td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    .table th { background-color: #f0f0f0; }
    select { padding: 4px; margin-right: 8px; }
    img.legend { width: 40%; margin-bottom: 16px; }
    .graph-container { position: relative; padding-bottom: 40px; padding-left: 40px; }
    .axis-label-x { position: absolute; bottom: 25px; left: 50%; transform: translateX(-50%); font-size: 0.8em; }
    .axis-label-y { position: absolute; top: 40%; left: -20px; transform: translateY(-50%) rotate(-90deg); font-size: 0.8em; }
    .graph-container img { width: 100%; height: auto; }
    .intro-card {
      background-color: #f9fafb;
      padding: 16px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <h2>Consistent PCA on Synthetic Datasets</h2>

  <div class="intro-card">
    We use synthetic datasets of [Ref] to evaluate the performance of ConsistentPCA with varying data dimensionality d and the number of updates n.
    The synthetic data is generated by a <strong>d-dimensional Gaussian distribution with zero mean and covariance matrix Σ = (min{i,j}/d)_{1≤i,j≤d}</strong>.
    It is known that the eigenvalues of Σ decreases rapidly to zero where the j-th eigenvalue is approximately λj ∼ (j −0.5)^{−2} so that only a few leading eigenvectors dominate Σ.
    We generated datasets with <strong>dimensions of d = 20, 50, and 100, with the number of updates (or, sample sizes) n = 50, 100, 500, and 1000</strong>.<br><br>
    [Ref] Hervé Cardot and David Degras. Online principal component analysis in high dimension: Which algorithm to choose? International Statistical Review, 86(1):29–50, 2018.
  </div>

  <div>
    <label>The number of clusters:</label>
    <select id="paramSelect">
      <option value="k02">k = 2</option>
      <option value="k02">k = 3</option>
      <option value="k05">k = 5</option>
      <option value="k10">k = 10</option>
    </select>

    <label>Zoom:</label>
    <select id="zoomSelect">
      <option value="">Normal</option>
      <option value="_zoom">Zoomed</option>
    </select>
  </div>

  <img src="./legend_pca.png" alt="Legend" class="legend">

  <table class="table" id="graphTable">
    <thead>
      <tr>
        <th>The nubmer of data points</th>
        <th>n = 50</th>
        <th>n = 100</th>
        <th>n = 500</th>
        <th>n = 1000</th>
      </tr>
    </thead>
    <tbody>
      <!-- plots -->
    </tbody>
  </table>

  <script>
    const types = ['dim020', 'dim050', 'dim100'];
    const ids = ['num0050', 'num0100', 'num0500', 'num1000'];

    function loadGraphs(param, zoom) {
      const tbody = document.querySelector('#graphTable tbody');
      tbody.innerHTML = '';

      types.forEach(type => {
        const tr = document.createElement('tr');
        const typeCell = document.createElement('td');
        typeCell.textContent = type;
        tr.appendChild(typeCell);

        ids.forEach(id => {
          const td = document.createElement('td');

          const container = document.createElement('div');
          container.className = 'graph-container';

          const img = document.createElement('img');
          img.src = `./${param}${zoom}/avg_${type}_${id}.png`;
          img.alt = `${type}_${id}`;

          const xAxis = document.createElement('div');
          xAxis.className = 'axis-label-x';
          xAxis.textContent = 'Obj^{SC}';

          const yAxis = document.createElement('div');
          yAxis.className = 'axis-label-y';
          yAxis.textContent = `IC^{SC}_{${type}}`;

          container.appendChild(img);
          container.appendChild(xAxis);
          container.appendChild(yAxis);

          td.appendChild(container);
          tr.appendChild(td);
        });

        tbody.appendChild(tr);
      });
    }

    function updateGraphs() {
      const param = document.getElementById('paramSelect').value;
      const zoom = document.getElementById('zoomSelect').value;
      loadGraphs(param, zoom);
    }

    document.getElementById('paramSelect').addEventListener('change', updateGraphs);
    document.getElementById('zoomSelect').addEventListener('change', updateGraphs);

    updateGraphs();
  </script>
</body>
</html>
